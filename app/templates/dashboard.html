<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Compliance Dashboard</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/variables.css') }}" />
  <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}" />
  <link rel="stylesheet" href="{{ url_for('static', filename='css/modal.css') }}" />
</head>

<body>
  <div class="dashboard-wrapper">
    {% set active_page = 'dashboard' %}
    {% include 'components/sidebar.html' %}

    <main class="main-content">
      {% set page_title = 'Welcome Admin!' %}
      {% include 'components/navbar.html' %}

      <section class="content-area">
        <div class="section-title">Overview</div>

        <div class="stats-row">
          <div class="stat-box">
            <div class="stat-icon blue" aria-hidden="true">
              <svg viewBox="0 0 24 24" focusable="false" aria-hidden="true">
                <path d="M12 2l7 4v6c0 5-3 9-7 10-4-1-7-5-7-10V6l7-4z" fill="none" stroke="currentColor" stroke-width="2" stroke-linejoin="round" />
                <path d="M9 12l2 2 4-4" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
              </svg>
            </div>
            <div class="stat-info">
              <div class="stat-number">82%</div>
              <div class="stat-label">Compliance Rate</div>
            </div>
          </div>

          <div class="stat-box">
            <div class="stat-icon orange" aria-hidden="true">
              <svg viewBox="0 0 24 24" focusable="false" aria-hidden="true">
                <path d="M12 2l10 18H2L12 2z" fill="none" stroke="currentColor" stroke-width="2" stroke-linejoin="round" />
                <path d="M12 9v5" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                <path d="M12 17h.01" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" />
              </svg>
            </div>
            <div class="stat-info">
              <div class="stat-number">8</div>
              <div class="stat-label">Active Alerts</div>
            </div>
          </div>

          <div class="stat-box">
            <div class="stat-icon green" aria-hidden="true">
              <svg viewBox="0 0 24 24" focusable="false" aria-hidden="true">
                <path d="M6 2h8l4 4v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z" fill="none" stroke="currentColor" stroke-width="2" stroke-linejoin="round" />
                <path d="M14 2v4h4" fill="none" stroke="currentColor" stroke-width="2" stroke-linejoin="round" />
                <path d="M8 11h6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                <path d="M8 15h4" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                <path d="M18 16a4 4 0 1 1-6.4-3.2" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                <path d="M14 14v2l1 1" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
              </svg>
            </div>
            <div class="stat-info">
              <div class="stat-number">3</div>
              <div class="stat-label">Pending Reports</div>
            </div>
          </div>
        </div>

        <div class="content-grid">
          <div class="content-card">
            <div class="card-header">
              <div class="card-title">Violations Distribution</div>
              <a href="policies.html" class="card-action">View</a>
            </div>
            <div class="card-content chart-container">
              <div class="chart-wrapper">
                <div class="chart-donut" role="img" aria-label="Policy violations share donut chart"></div>
                <div class="chart-percentage">
                  <span class="chart-label-lg">68%</span>
                </div>
                <div class="chart-percentage-secondary">
                  <span class="chart-label-lg">32%</span>
                </div>
              </div>
              <div class="legend-container">
                <div class="legend-item">
                  <div class="legend-color-box backup"></div>
                  <span class="legend-text">Backup Policy</span>
                </div>
                <div class="legend-item">
                  <div class="legend-color-box password"></div>
                  <span class="legend-text">Password Policy</span>
                </div>
              </div>
            </div>
          </div>

          <div class="content-card">
            <div class="card-header">
              <div class="card-title">Alerts</div>
              <span class="header-badge" id="dashboardAlertsBadge" style="display:none;">0</span>
            </div>
            <div class="card-content">
              <div id="dashboardAlertsList"></div>
              <div id="dashboardAlertsEmpty" style="display:none; padding: 14px; color: var(--text-muted); font-size: 13px; text-align:center;">No alerts</div>
            </div>
          </div>

          <div class="content-card">
            <div class="card-header">
              <div class="card-title">Reports</div>
              <a href="reports.html" class="card-action">+ Create Report</a>
            </div>
            <div class="card-content">
              <div class="report-card">
                <div class="report-left">
                  <span class="report-icon">üìã</span>
                  <div>
                    <div class="report-title">Monthly Compliance Report</div>
                    <div class="report-date">2024-11-01</div>
                  </div>
                </div>
                <div class="report-right">
                  <span class="report-status ready">Ready</span>
                  <div class="download-icon">‚¨áÔ∏è</div>
                </div>
              </div>

              <div class="report-card">
                <div class="report-left">
                  <span class="report-icon">üìã</span>
                  <div>
                    <div class="report-title">Quarterly Risk Analysis</div>
                    <div class="report-date">2024-10-01</div>
                  </div>
                </div>
                <div class="report-right">
                  <span class="report-status ready">Ready</span>
                  <div class="download-icon">‚¨áÔ∏è</div>
                </div>
              </div>

              <div class="report-card">
                <div class="report-left">
                  <span class="report-icon">üìã</span>
                  <div>
                    <div class="report-title">Internal Audit Report</div>
                    <div class="report-date">2024-11-15</div>
                  </div>
                </div>
                <div class="report-right">
                  <span class="report-status processing">Processing</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script defer src="{{ url_for('static', filename='js/api.js') }}"></script>
  <script defer src="{{ url_for('static', filename='js/modal.js') }}"></script>
  <script defer src="{{ url_for('static', filename='js/notifications.js') }}"></script>
  <script defer src="{{ url_for('static', filename='js/dashboard.js', v=static_version) }}"></script>
</body>

</html>